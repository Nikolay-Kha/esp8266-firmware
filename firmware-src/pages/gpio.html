<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>GPIO</title>
	<script src="libs.js"></script>
	<script>
		function get(pin) {
			send_command('gpio/read', null, getKey(), function (err, res) {
				if(err)
					print('ERROR: ' + res, true);
				else
					print('GPIO' + pin + ': ' + res[pin.toString()]);
			});
		}

		function set(pin, val) {
			var json = {}
			json[String(pin)] = val;
			print('');
			send_command('gpio/write', json, getKey(), function (err, res) {
				if(err)
					print('ERROR: ' + res, true);
				else
					print('Value ' + val + ' was written to GPIO' + pin);
			});
		}

		function init() {
			byId('key').value = localStorage['key'];
		}
	</script>
</head>
<body onload="init()">
<div class="header">
	<a href="./help.html"><div class="devecihive-logo-text"></div></a>
	<div class="key-box">
		<label for="key">AccesKey: </label>
		<input class="input-key input-data" type="password" id="key">
	</div>
</div>
<div class="content">
	<div class="form-block">
		<div class="description">This sample can read and write to GPIO ports.</div>
		<div class="group-box">
			<div class="group-box_title">GPIO0</div>
			<button class="btn_event" type="button" value="Read" onclick="get(0);">Read</button>
			<button class="btn_event" type="button" value="Set 1" onclick="set(0, 1);">Set 1</button>
			<button class="btn_event" type="button" value="Set 0" onclick="set(0, 0);">Set 0</button>
		</div>
		<div class="group-box">
			<div class="group-box_title">GPIO1</div>
			<button class="btn_event" type="button" value="Read" onclick="get(1);">Read</button>
			<button class="btn_event" type="button" value="Set 1" onclick="set(1, 1);">Set 1</button>
			<button class="btn_event" type="button" value="Set 0" onclick="set(1, 0);">Set 0</button>
		</div>
		<div class="group-box">
			<div class="group-box_title">GPIO2</div>
			<button class="btn_event" type="button" value="Read" onclick="get(2);">Read</button>
			<button class="btn_event" type="button" value="Set 1" onclick="set(2, 1);">Set 1</button>
			<button class="btn_event" type="button" value="Set 0" onclick="set(2, 0);">Set 0</button>
		</div>
		<div class="group-box">
			<div class="group-box_title">GPIO3</div>
			<button class="btn_event" type="button" value="Read" onclick="get(3);">Read</button>
			<button class="btn_event" type="button" value="Set 1" onclick="set(3, 1);">Set 1</button>
			<button class="btn_event" type="button" value="Set 0" onclick="set(3, 0);">Set 0</button>
		</div>
		<div class="group-box">
			<div class="group-box_title">GPIO4</div>
			<button class="btn_event" type="button" value="Read" onclick="get(4);">Read</button>
			<button class="btn_event" type="button" value="Set 1" onclick="set(4, 1);">Set 1</button>
			<button class="btn_event" type="button" value="Set 0" onclick="set(4, 0);">Set 0</button>
		</div>
		<div class="group-box">
			<div class="group-box_title">GPIO5</div>
			<button class="btn_event" type="button" value="Read" onclick="get(5);">Read</button>
			<button class="btn_event" type="button" value="Set 1" onclick="set(5, 1);">Set 1</button>
			<button class="btn_event" type="button" value="Set 0" onclick="set(5, 0);">Set 0</button>
		</div>
		<div class="group-box">
			<div class="group-box_title">GPIO12</div>
			<button class="btn_event" type="button" value="Read" onclick="get(12);">Read</button>
			<button class="btn_event" type="button" value="Set 1" onclick="set(12, 1);">Set 1</button>
			<button class="btn_event" type="button" value="Set 0" onclick="set(12, 0);">Set 0</button>
		</div>
		<div class="group-box">
			<div class="group-box_title">GPIO13</div>
			<button class="btn_event" type="button" value="Read" onclick="get(13);">Read</button>
			<button class="btn_event" type="button" value="Set 1" onclick="set(13, 1);">Set 1</button>
			<button class="btn_event" type="button" value="Set 0" onclick="set(13, 0);">Set 0</button>
		</div>
		<div class="group-box">
			<div class="group-box_title">GPIO14</div>
			<button class="btn_event" type="button" value="Read" onclick="get(14);">Read</button>
			<button class="btn_event" type="button" value="Set 1" onclick="set(14, 1);">Set 1</button>
			<button class="btn_event" type="button" value="Set 0" onclick="set(14, 0);">Set 0</button>
		</div>
		<div class="group-box">
			<div class="group-box_title">GPIO15</div>
			<button class="btn_event" type="button" value="Read" onclick="get(15);">Read</button>
			<button class="btn_event" type="button" value="Set 1" onclick="set(15, 1);">Set 1</button>
			<button class="btn_event" type="button" value="Set 0" onclick="set(15, 0);">Set 0</button>
		</div>
		<div class="output-status" id="output"></div>
	</div>
</div>
</body>
</html>